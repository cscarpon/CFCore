% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fct_web_mapping.R
\name{displayMap}
\alias{displayMap}
\title{Display a leaflet map with rasters and optional continuous change layers}
\usage{
displayMap(
  dtm1,
  ndsm1,
  dtm2,
  ndsm2,
  dtm_diff,
  ndsm_diff,
  area_mask,
  epsg = 4326,
  diff_palette = NULL,
  diff_range = NULL,
  diff_quantiles = c(0.02, 0.98),
  diff_breaks = NULL,
  diff_break_colors = NULL,
  measure_colors = c("#3D535D", "#7D4479")
)
}
\arguments{
\item{dtm1, ndsm1, dtm2, ndsm2}{\code{terra::SpatRaster} layers (may be \code{NULL}).}

\item{dtm_diff, ndsm_diff}{Optional continuous difference rasters (may be \code{NULL}).}

\item{area_mask}{Optional AOI mask. Prefer \code{terra::SpatVector} or \code{sf}.}

\item{epsg}{EPSG integer for web display. Defaults to 4326.}

\item{diff_palette}{Palette name or vector accepted by \code{leaflet::colorNumeric()}.
If \code{NULL}, uses \code{"viridis"}.}

\item{diff_range}{Optional numeric length-2 c(min, max) for diff legend/rendering.
If \code{NULL}, \code{diff_quantiles} are used.}

\item{diff_quantiles}{Numeric length-2 quantiles used to set diff rendering domain
when \code{diff_range} is \code{NULL}. Defaults to c(0.02, 0.98) to reduce outlier impact.}

\item{diff_breaks}{Optional numeric vector of breakpoints for an additional binned
legend (labels only). Does not alter raster rendering.}

\item{diff_break_colors}{Optional colors for the binned legend (length = bins).
If \code{NULL}, a default qualitative palette is generated.}

\item{measure_colors}{Length-2 character vector for measure tool colors:
\code{c(activeColor, completedColor)}.}
}
\value{
A \code{leaflet} map widget.
}
\description{
Builds a leaflet map containing DTM and nDSM rasters for two epochs, optional
continuous difference rasters (\code{later - earlier}), and an optional AOI mask.
}
\keyword{internal}
